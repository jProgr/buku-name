!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const s=Object.freeze({EXACT_MATCH:".",FOCUS_SEARCH:"f",CLEAR_SEARCH:"<",BASE_TOGGLE:"?",COMPOUND_TOGGLE:",",OTHER_TOGGLE:"_"});function o(e){if("string"!=typeof e)throw new Error("Value must be a string");switch(e){case"true":return!0;case"false":return!1;default:return!!e}}function r(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}function c(e){return e.replaceAll(s.EXACT_MATCH,"")}function i(e){return e.replaceAll(s.BASE_TOGGLE,"")}function a(e){return e.replaceAll(s.COMPOUND_TOGGLE,"")}function l(e){return e.replaceAll(s.OTHER_TOGGLE,"")}const h=Object.freeze({BASE:Symbol("base"),COMPOUND:Symbol("compound"),OTHER:Symbol("other")}),u=/\([\w\d\s'\-,]+\)/gi;class d{constructor(e){this.element=e,this.contents=this._getContent(e),[this.word]=this.contents,this.rawWord=e.innerText.split(":")[0],this.type=this._getType(this.rawWord)}_getType(e){return(t=e.substring(0,1))===t.toUpperCase()?h.OTHER:e.includes("-")?h.COMPOUND:h.BASE;var t}_getContent(e){const t=e.querySelector("p").innerText;let n=new Set;return t.replaceAll(u,"").split(/[^\w-]/).map((e=>e.trim())).forEach((e=>n.add(e.toLowerCase()))),n.has("")&&n.delete(""),n}show(){this.element.style.display="block"}hide(){this.element.style.display="none"}is(...e){return e.includes(this.type)}}const m=new class{constructor(e){this._elements=e,this._initFromCache(),this.onChange((()=>this._updateCache()))}isExactMatchActive(){return this._elements.exactMatch.checked}isBaseActive(){return this._elements.base.checked}isCompoundActive(){return this._elements.compound.checked}isOtherActive(){return this._elements.other.checked}isJustMiniActive(){return this._elements.justMini.checked}get elements(){return Object.entries(this._elements).map((e=>e[1]))}_initFromCache(){if(!this._isLocalStorageAvailable())return;const e=window.localStorage.getItem("exactMatch");null!==e&&(this._elements.exactMatch.checked=o(e));const t=window.localStorage.getItem("base");null!==t&&(this._elements.base.checked=o(t));const n=window.localStorage.getItem("compound");null!==n&&(this._elements.compound.checked=o(n));const s=window.localStorage.getItem("other");null!==s&&(this._elements.other.checked=o(s));const r=window.localStorage.getItem("justMini");null!==r&&(this._elements.justMini.checked=o(r))}_updateCache(){if(this._isLocalStorageAvailable())for(const[e,t]of Object.entries(this._elements))window.localStorage.setItem(e,t.checked)}_isLocalStorageAvailable(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}getActiveTypes(){let e=[];return this.isBaseActive()&&e.push(h.BASE),this.isCompoundActive()&&e.push(h.COMPOUND),this.isOtherActive()&&e.push(h.OTHER),e}onChange(e){Object.values(this._elements).forEach((t=>t.addEventListener("change",e)))}}({exactMatch:document.getElementById("exact-match-element"),base:document.getElementById("base-element"),compound:document.getElementById("compound-element"),other:document.getElementById("other-element"),justMini:document.getElementById("just-mini-element")}),_=Array.from(document.querySelectorAll("div[class=word-container]")).map((e=>new d(e))),E=new class{constructor(e){this._words=e}search(e,t){e?this._words.forEach((n=>{if(!n.is(...t.getActiveTypes()))return n.hide();if(t.isExactMatchActive()){let s=!1;return s=t.isJustMiniActive()?n.word===e:n.contents.has(e),this._showOrHide(n,s)}if(t.isJustMiniActive())return this._showOrHide(n,n.word.includes(e));for(const t of n.contents)if(t.includes(e))return n.show();n.hide()})):this.showAll(t)}showAll(e){this._words.forEach((t=>this._showOrHide(t,t.is(...e.getActiveTypes()))))}_showOrHide(e,t){t?e.show():e.hide()}}(_),p=document.getElementById("search");p.value="";const w=()=>{return e=E,t=p,n=m,void function(e,t=300){let n;return(...s)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,s)}),t)}}((()=>e.search(function(e){let t=c(e);return t=i(t),t=a(t),t=l(t),t}(t.value.trim().toLowerCase()),n)))();var e,t,n};m.onChange(w);const y=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Shift","Control","Alt","CapsLock","Meta"];p.addEventListener("keyup",(e=>{y.includes(e.key)||w()})),new class{constructor(e){this._words=new Map;for(const t of e)this._words.set(t.rawWord,t);this._queryParams=new URLSearchParams(window.location.search),this._boot()}showIfAny(){const e=this._queryParams.get("show");null!==e&&this._words.has(e)&&(this._words.forEach((e=>e.hide())),this._words.get(e).show())}_boot(){this._words.forEach(((e,t)=>e.element.querySelector("button[class=link]").addEventListener("click",(()=>{this._queryParams.set("show",t),window.location.search=this._queryParams.toString(),this.showIfAny()}))))}}(_).showIfAny(),_.forEach((e=>{const t=e.element.querySelector("button[class=listen]");if(null===t)return;let n,s,o,r=null;t.addEventListener("click",(()=>{null===r?(r=document.createElement("audio"),n=document.createElement("source"),n.type="audio/mp4",n.src="assets/audio/"+e.rawWord+".m4a",r.appendChild(n),s=document.createElement("source"),s.type="audio/ogg",s.src="assets/audio/"+e.rawWord+".oga",r.appendChild(s),o=document.createElement("source"),o.type="audio/mpeg",o.src="assets/audio/"+e.rawWord+".mp3",r.appendChild(o),r.play()):r.play()}))})),new class{constructor(e,t,n,s,o){this._searchElement=e,this._exactMatchElement=t,this._baseElement=n,this._compoundElement=s,this._otherElement=o,this._bootExactMatchToggle(),this._bootFocusSearch(),this._bootClearSearch(),this._bootBaseToggle(),this._bootCompoundToggle(),this._bootOtherToggle()}_bootExactMatchToggle(){this._searchElement.addEventListener("keyup",(e=>{e.key===s.EXACT_MATCH&&(this._searchElement.value=c(this._searchElement.value))})),window.addEventListener("keyup",(e=>{e.key===s.EXACT_MATCH&&(this._exactMatchElement.checked=!this._exactMatchElement.checked,r(this._exactMatchElement,"change"))}))}_bootFocusSearch(){window.addEventListener("keyup",(e=>{e.key===s.FOCUS_SEARCH&&(this._searchElement.matches(":focus")||this._searchElement.focus())}))}_bootClearSearch(){window.addEventListener("keyup",(e=>{e.key===s.CLEAR_SEARCH&&(this._searchElement.value="",r(this._searchElement,"keyup"))}))}_bootBaseToggle(){this._searchElement.addEventListener("keyup",(e=>{e.key===s.BASE_TOGGLE&&(this._searchElement.value=i(this._searchElement.value))})),window.addEventListener("keyup",(e=>{e.key===s.BASE_TOGGLE&&(this._baseElement.checked=!this._baseElement.checked,r(this._baseElement,"change"))}))}_bootCompoundToggle(){this._searchElement.addEventListener("keyup",(e=>{e.key===s.COMPOUND_TOGGLE&&(this._searchElement.value=a(this._searchElement.value))})),window.addEventListener("keyup",(e=>{e.key===s.COMPOUND_TOGGLE&&(this._compoundElement.checked=!this._compoundElement.checked,r(this._compoundElement,"change"))}))}_bootOtherToggle(){this._searchElement.addEventListener("keyup",(e=>{e.key===s.OTHER_TOGGLE&&(this._searchElement.value=l(this._searchElement.value))})),window.addEventListener("keyup",(e=>{e.key===s.OTHER_TOGGLE&&(this._otherElement.checked=!this._otherElement.checked,r(this._otherElement,"change"))}))}}(p,...m.elements)}]);